最近被问到许多关于为什么使用依赖注入的问题，之前的回答无非是解耦合，方便替换依赖去方便测试之类的，答得不够详细，现在再总结一下。

[官方概览](https://developer.android.com/training/dependency-injection)

# 一：控制反转

[维基百科介绍](https://zh.wikipedia.org/wiki/%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC)

[csdn文章不错](https://blog.csdn.net/bestone0213/article/details/47424255)

本来，**对象的创建**由程序本身来控制，对象之间互相直接依赖，耦合度很高。然后我们引入 **一个第三方** 来控制这个 **提供对象** 的过程，使**对象之间的互相依赖**转成**程序对框架的依赖**。

这个第三方控制了一下几个方面：

1. 对象的实际创建和提供
2. 对象的生命周期
3. 用依赖链来维护对象之间的依赖关系

由于控制反转，得以实现一下几点：

1. 方便控制对象生命周期，比如说Hilt可以指定Module对应的Component来指定对象的存活范围是整个应用程序还是一个Activity。
2. 方便替换实现，比如说网络框架可以从Retrofit这个实现去替换成其他实现。
3. 方便测试，把依赖实际的请求库改为Fake来源，用假数据来测试。

整个应用更加灵活、可拓展。





# 二：对编程的影响

实际上由于依赖注入框架为我们管理的对象的创建和生命周期，开发者可以更好的专注于程序逻辑本身，需要什么对象就声明一下就行。



